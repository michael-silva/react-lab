(this["webpackJsonpreact-lab"]=this["webpackJsonpreact-lab"]||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){},108:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},217:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(37),s=n.n(c),o=(n(104),n(38)),i=n(2),l=n(30),d=n(4),u=n(3),m=n(5),j=n(7),b=n(12),h=n(13),p=n(6),O=n.n(p),x=n(10),f=(n(106),n(0)),v=function(e){var t=e.children,n=e.lang,r=Object(a.useRef)();return Object(a.useLayoutEffect)((function(){r.current&&window.hljs&&window.hljs.highlightElement(r.current)}),[r]),Object(f.jsx)("pre",{children:Object(f.jsx)("code",{ref:r,className:"language-".concat(n),children:t})})};v.defaultProps={children:null,lang:"javascript"};var N=v,g=function(e,t){return new Promise((function(n,a){setTimeout((function(t){try{var r=e(t);n(r)}catch(c){a(c)}}),t)}))},y=function(e,t){var n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useCallback)(function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(n);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),s(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),t);if(c)throw c;return o},C=r.a.memo((function(e){var t=e.error,n=e.errorInfo;return Object(f.jsxs)("div",{className:"notification is-danger is-light",children:[Object(f.jsx)("h2",{className:"title is-5",children:"Something went wrong."}),Object(f.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[t&&t.toString(),Object(f.jsx)("br",{}),n.componentStack]})]})})),k=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={error:null,errorInfo:null},a}return Object(j.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){if(this.state.errorInfo){var e=this.props.fallback;return Object(f.jsx)(e,Object(u.a)({},this.state))}return this.props.children}}]),n}(r.a.Component);k.defaultProps={fallback:C};var S=function(e){var t=e.children,n=e.id,r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],o=c[1];if(s)throw new Error("Error for: ".concat(n));return Object(f.jsx)("button",{className:"button is-danger mr-2",type:"button",onClick:function(){o(!0)},children:t})},E=function(e){var t=e.children,n=e.id,r=e.delay,c=Object(a.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1];if(o)throw new Error("Error for: ".concat(n));return Object(f.jsx)("button",{className:"button is-danger mr-2",type:"button",onClick:function(){setTimeout((function(){l(!0)}),r||1e3)},children:t})},w=function(e){var t=e.children,n=e.id;return Object(f.jsx)("button",{className:"button is-danger mr-2",type:"button",onClick:function(){setTimeout((function(){throw new Error("Error for: ".concat(n))}),2e3)},children:t})},P=function(e){var t=e.children,n=e.id;return Object(f.jsx)("button",{className:"button is-danger mr-2",type:"button",onClick:function(){throw new Error("Error for: ".concat(n))},children:t})},q=function(e){e.children;var t=e.text;return function(e,t){var n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];if(Object(a.useEffect)((function(t){try{return e(t)}catch(n){return void s(n)}}),t),c)throw c}((function(){throw new Error("Error for: ".concat(t))}),[]),Object(f.jsx)("div",{children:t})},B=function(e){var t=e.children,n=e.id,a=y((function(){throw new Error("Error for: ".concat(n))}),[]);return Object(f.jsx)("button",{className:"button is-danger mr-2",type:"button",onClick:a,children:t})},F=function(e){var t=e.children,n=e.id,a=y(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((function(){throw new Error("Error for: ".concat(n))}),500);case 2:case"end":return e.stop()}}),e)}))),[]);return Object(f.jsx)("button",{className:"button is-danger mr-2",type:"button",onClick:a,children:t})},D=function(){return Object(f.jsx)("div",{className:"notification is-warning",children:"Componente fallback personalizado para erros dentro do ErrorBoundary"})},I=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"Error Boundary"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Nesta p\xe1gina temos varios testes do uso de ",Object(f.jsx)("strong",{children:"ErrorBoundary"})," na pr\xe1tica, para mais detalhes pode conferir a ",Object(f.jsx)("a",{href:"https://reactjs.org/docs/error-boundaries.html",children:"documenta\xe7\xe3o oficial"}),"."]}),Object(f.jsxs)("p",{children:["Para todos os exemplos nesta p\xe1gina vamos usar um ErrorBoundary implementado exatamente da forma como \xe9 descrita na documenta\xe7\xe3o oficial, apenas testando seu funcionamento em situa\xe7\xf5es adversas. ",Object(f.jsx)("br",{}),"Dito isso para nossso primeiro experimento criamos um bot\xe3o que ao ser clicado dispare um erro de renderiza\xe7\xe3o para que possamos conferir o comportamento do ErrorBoundary."]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"OBS."})," rodando o projeto local uma mensagem de error cobrir\xe1 toda a tela, por\xe9m ela pode ser fechada para conferir o comportamento do ErrorBoundary em produ\xe7\xe3o"]}),Object(f.jsx)(N,{children:'const RenderErrorButton = ({ children, id }) => {\n  const [hasError, setHasError] = useState(false);\n  const clickHandle = () => {\n    setHasError(true);\n  };\n\n  if (hasError) {\n    throw new Error(`Error for: ${id}`);\n  }\n\n  return (\n    <button className="button is-danger mr-2" type="button" onClick={clickHandle}>{children}</button>\n  );\n};\n// Exemplo de uso\n<ErrorBoundary fallback={CustomFallback}>\n  <RenderErrorButton id="1">Click to error</RenderErrorButton>\n  <RenderErrorButton id="2">Click to error</RenderErrorButton>\n</ErrorBoundary>'}),Object(f.jsx)("div",{className:"mb-4",children:Object(f.jsxs)(k,{fallback:D,children:[Object(f.jsx)(S,{id:"1",children:"Dispare um erro"}),Object(f.jsx)(S,{id:"2",children:"Dispare outro erro"})]})}),Object(f.jsx)("p",{children:"Para nosso segundo experimento teremos dois bot\xf5es cada um seu pr\xf3prio ErrorBoundary, ao serem clicados eles tamb\xe9m disparam erros de renderiza\xe7\xe3o, como no primeiro exemplo por\xe9m com um delay, esse erro ocorrer\xe1 apenas ap\xf3s um setTimeout."}),Object(f.jsx)(N,{children:'const AsyncRenderErrorButton = ({ children, id }) => {\n  const [hasError, setHasError] = useState(false);\n  const clickHandle = () => {\n    setTimeout(() => {\n      setHasError(true);\n    }, 1000);\n  };\n\n  if (hasError) {\n    throw new Error(`Error for: ${id}`);\n  }\n\n  return (\n    <button className="button is-danger mr-2" type="button" onClick={clickHandle}>{children}</button>\n  );\n};\n// Exemplo de uso\n<ErrorBoundary>\n  <AsyncRenderErrorButton id="3">Click to async error</AsyncRenderErrorButton>\n</ErrorBoundary>\n<ErrorBoundary>\n  <AsyncRenderErrorButton id="4">Click to async error</AsyncRenderErrorButton>\n</ErrorBoundary>'}),Object(f.jsxs)("div",{className:"mb-4",children:[Object(f.jsx)(k,{children:Object(f.jsx)(E,{id:"3",children:"Dispare erro em 1s"})}),Object(f.jsx)(k,{children:Object(f.jsx)(E,{id:"4",delay:2e3,children:"Dispare erro em 2s"})})]}),Object(f.jsxs)("p",{children:["Para nosso terceiro experimento implementamos situa\xe7\xf5es em que o ErrorBoundary n\xe3o consegue pegar os erros, o primeiro \xe9 um bot\xe3o que dispare um erro de evento diretamente no evento de clique e o outro \xe9 um erro disparado dentro de um setTimeout. ",Object(f.jsx)("br",{}),Object(f.jsx)("strong",{children:"OBS."})," Apesar dos exemplos aqui implementados usando o evento de click, as mesmas regras se aplicam para eventos do lifecycle do React como dentro de um useEffect ou useLayoutEffect"]}),Object(f.jsx)(N,{children:'const UncatchErrorButton = ({ children, id }) => {\n  const clickHandle = () => {\n    throw new Error(`Error for: ${id}`);\n  };\n\n  return (\n    <button className="button is-danger mr-2" type="button" onClick={clickHandle}>{children}</button>\n  );\n};\n// Exemplo de uso\n<ErrorBoundary>\n  <UncatchErrorButton id="5">Click to thoew an error</UncatchErrorButton>\n</ErrorBoundary>'}),Object(f.jsx)("div",{className:"mb-4",children:Object(f.jsx)(k,{children:Object(f.jsx)(P,{id:"5",children:"Clique para disparar um erro de evento"})})}),Object(f.jsx)(N,{children:'const AsyncUncatchErrorButton = ({ children, id }) => {\n  const clickHandle = () => {\n    setTimeout(() => {\n      throw new Error(`Error for: ${id}`);\n    }, 2000);\n  };\n\n  return (\n    <button className="button is-danger mr-2" type="button" onClick={clickHandle}>{children}</button>\n  );\n};\n// Exemplo de uso\n<ErrorBoundary>\n  <UncatchErrorBox id="5">Click to thoew an error</UncatchErrorBox>\n</ErrorBoundary>'}),Object(f.jsx)("div",{className:"mb-4",children:Object(f.jsx)(k,{children:Object(f.jsx)(w,{id:"6",children:"Clique para disparar um erro em 1s"})})}),Object(f.jsx)("p",{children:"Com isso concluimos que para tratar erros de eventos \xe9 necess\xe1rio o uso de try/catch. Isso nos leva a dois problemas, repeti\xe7\xe3o nos blocos de c\xf3digo para tratamento de erro em multiplas fun\xe7\xf5es e a descentraliza\xe7\xe3o do contole de erros, tendo os erros de renderiza\xe7\xe3o tratados no ErrorBoundary e os erros de eventos tratados manualmente."}),Object(f.jsx)("p",{children:"Para solucionar estes problemas alguns simples hooks podem evitar a repeti\xe7\xe3o de c\xf3digo e converter os erros de evento em erros de renderiza\xe7\xe3o, assim centralizando o tratamento de erros apenas nos ErrorBoundary."}),Object(f.jsx)(N,{children:'// Replace the react hook useCallback\n  const useSecureCallback = (callback, deps) => {\n  const [error, setError] = useState(null);\n  const fn = useCallback(async (args) => {\n    try {\n      await callback(args);\n    } catch (e) {\n      setError(e);\n    }\n  }, deps);\n\n  if (error) {\n    // Dispara um erro de renderiz\xe3o para ser tratado pelo ErrorBoundary\n    throw error;\n  }\n\n  return fn;\n};\n\n// Replace the react hook useEffect\nconst useSecureEffect = (callback, deps) => {\n  const [error, setError] = useState(null);\n  useEffect((args) => {\n    try {\n      return callback(args);\n    } catch (e) {\n      setError(e);\n      return undefined;\n    }\n  }, deps);\n\n  if (error) {\n    // Dispara um erro de renderiz\xe3o para ser tratado pelo ErrorBoundary\n    throw error;\n  }\n};\n// Exemplos de erro tratado pelo ErrorBoundary\nconst SecureUncatchErrorButton = ({ children }) => {\n  const clickHandle = useSecureCallback(() => {\n    throw new Error(\'Unexpected Error\');\n  }, []);\n\n  return (\n    <button className="button is-danger mr-2" type="button" onClick={clickHandle}>{children}</button>\n  );\n};\n// Exemplos de erro n\xe3o tratado\nconst SecureUncatchErrorButton = ({ children }) => {\n  const clickHandle = useCallback(() => {\n    throw new Error(\'Unexpected Error\');\n  }, []);\n\n  return (\n    <button className="button is-danger mr-2" type="button" onClick={clickHandle}>{children}</button>\n  );\n};'}),Object(f.jsxs)(k,{children:[Object(f.jsx)(B,{id:"7",children:"Disparar erro de evento"}),Object(f.jsx)(F,{id:"8",children:"Disparar erro depois de 1s"})]}),Object(f.jsxs)(k,{children:[Object(f.jsx)("button",{type:"button",className:"button is-warning",onClick:function(){return r(!0)},children:"Disparar erro ao carregar um novo elemento"}),n&&Object(f.jsx)(q,{text:"Erro disparado dentro de um useSecureEffect"})]})]})};I.defaultProps={};var T=I,R=(n(108),n(54)),A=n.n(R),L=n(21),z=function(){self.addEventListener("message",(function(e){if(e){var t=e.data,n=t.names,a=t.query,r=n;""!==a&&(r=n.filter((function(e){return e.toLowerCase().includes(a.toLowerCase())}))),postMessage(r)}}))},M=function e(t){Object(m.a)(this,e);var n=t.toString(),a=new Blob(["(".concat(n,")()")]);return new Worker(URL.createObjectURL(a))},V=function(e,t){var n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],s=r[1];Object(a.useEffect)((function(){var n=!1,a=c?Date.now()-c:0,r=setTimeout(Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return s(Date.now()),t.prev=3,t.next=6,e();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])}))),t-a);return function(){n=!0,clearTimeout(r)}}),[c,t,e])},U=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),s=Object(i.a)(c,2),o=s[0],l=s[1],d=o&&null===n,u=function(){var e=Object(a.useRef)(!0),t=Object(a.useRef)(null),n=Object(L.useCallback)((function(n,a){return new Promise((function(r,c){t.current=window.setTimeout((function(t){if(null===e||void 0===e?void 0:e.current)try{var a=n(t);r(a)}catch(s){c(s)}}),a)}))}),[]);return Object(a.useEffect)((function(){return function(){e.current=!1,clearTimeout(t)}}),[]),n}();return V(Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,u((function(){r(Date.now()),l(!1)}),2e3*Math.random());case 3:case"end":return e.stop()}}),e)}))),2e3),d?Object(f.jsx)("div",{children:"loading..."}):Object(f.jsxs)("div",{children:["Current: ",n]})},J=0,H=function(e){Object(o.a)(e);var t=Object(a.useRef)(null),n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(""),d=Object(i.a)(l,2),u=d[0],m=d[1],j=Object(a.useMemo)((function(){return A()((function(e){m(e.target.value)}),300)}),[]);Object(a.useEffect)((function(){return function(){j.cancel()}}),[]);return Object(a.useEffect)((function(){return t.current=new M(z),function(){return t.current.terminate()}}),[]),Object(a.useEffect)((function(){t.current.postMessage({names:G,query:u}),t.current.addEventListener("message",(function(e){s(e.data)}))}),[u]),console.log("Render",++J),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{onChange:j,type:"text",placeholder:"Type a query..."}),c.map((function(e){return Object(f.jsx)("div",{children:e},e)}))]})},G=["Alabama","Alaska","American Samoa","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Federated States of Micronesia","Florida","Georgia","Guam","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Marshall Islands","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Northern Mariana Islands","Ohio","Oklahoma","Oregon","Palau","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virgin Island","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],W=function(){return Object(f.jsxs)("div",{className:"content","data-testid":"Pooling",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"[WIP] Pooling"}),Object(f.jsx)("hr",{}),Object(f.jsx)(U,{}),Object(f.jsx)(H,{names:G})]})};W.defaultProps={};var _=W,Q=(n(115),function(){self.addEventListener("message",(function(e){if(e){for(var t=[],n={name:"Jane Doe",email:"jane.doe@gmail.com",id:1},a=0;a<1e7;a++)n.id=a++,n.dateJoined=Date.now(),t.push(n);postMessage(t)}}))}),$=function e(t){Object(m.a)(this,e);var n=t.toString(),a=new Blob(["(".concat(n,")()")]);return new Worker(URL.createObjectURL(a))},X=function(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(f.jsxs)("section",{className:"App-right",children:[Object(f.jsxs)("p",{className:"text-center",children:["Total User Count: ",n]}),Object(f.jsxs)("p",{className:"text-center",children:["Total Time Spent: ",o]}),Object(f.jsx)("button",{type:"button",className:"btn-worker",onClick:function(){for(var e=[],t=Date.now(),n={name:"Jane Doe",email:"jane.doe@gmail.com",id:1},a=0;a<1e7;a++)n.id=a++,n.dateJoined=Date.now(),e.push(n);r(e.length),l(Date.now()-t)},children:"Fetch Users directly"})]})},K=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(0),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(0),o=Object(i.a)(s,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){e.current=new $(Q)}),[]),Object(f.jsxs)("section",{className:"App-right",children:[Object(f.jsxs)("p",{className:"text-center",children:["Total User Count: ",r]}),Object(f.jsxs)("p",{className:"text-center",children:["Total Time Spent: ",l]}),Object(f.jsx)("button",{type:"button",className:"btn-worker",onClick:function(){var t=Date.now();e.current.postMessage("Fetch Users"),e.current.addEventListener("message",(function(e){c(e.data.length),d(Date.now()-t)}))},children:"Fetch Users with Web Worker"})]})},Y=function(){return Object(f.jsxs)("div",{className:"root","data-testid":"WebWorker",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"[WIP] WebWorker"}),Object(f.jsx)("hr",{}),Object(f.jsx)(X,{}),Object(f.jsx)(K,{})]})};Y.defaultProps={};var Z=Y,ee=(n(116),r.a.createContext());function te(){var e=r.a.useContext(ee);if(!e)throw new Error("Toggle compound components cannot be rendered outside the Toggle component");return e}var ne=function(e){var t=e.on,n=void 0!==t&&t,a=e.onClick,r=e.children;return Object(f.jsxs)("label",{children:[Object(f.jsx)("input",{type:"checkbox",checked:n,onChange:a})," ",r]})},ae=function(e){var t=e.children,n=e.onToggle,r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useCallback)((function(){return o((function(e){return!e}))}),[]);Object(a.useEffect)((function(){n(s)}),[s]);var d=Object(a.useMemo)((function(){return{on:s,toggle:l}}),[s]);return Object(f.jsx)(ee.Provider,{value:d,children:t})};ae.On=function(e){var t=e.children;return te().on?t:null},ae.Off=function(e){var t=e.children;return te().on?null:t},ae.Button=function(e){var t=te(),n=t.on,a=t.toggle;return Object(f.jsx)(ne,Object(u.a)({on:n,onClick:a},e))};var re=function(){return Object(f.jsxs)(ae,{onToggle:function(e){return console.log(e)},children:[Object(f.jsx)(ae.On,{children:"The button is on"}),Object(f.jsx)(ae.Off,{children:"The button is off"}),Object(f.jsx)(ae.Button,{children:"checkbox"})]})},ce=function(e){var t=e.navigator,n=void 0===t?function(e){return Object(f.jsx)("a",{href:"#slide-".concat(e.title),children:e.title},e.title)}:t,a=e.children;return Object(f.jsxs)("div",{className:"slider",children:[r.a.Children.map(a,(function(e){var t=e.props;return t.title?n(t):null})),Object(f.jsx)("div",{className:"slides",children:a})]})};ce.Slide=function(e){var t=e.children,n=e.title;return n?Object(f.jsx)("div",{id:"slide-".concat(n),children:t}):null};var se=function(){var e=Object(a.useCallback)((function(e){var t=e.title;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("a",{href:"#slide-".concat(t),children:t},t)," /"]})}),[]);return Object(f.jsxs)(ce,{navigator:e,children:[Object(f.jsx)(ce.Slide,{title:"1",children:"A"}),Object(f.jsx)(ce.Slide,{title:"2",children:"B"}),Object(f.jsx)(ce.Slide,{children:"C"}),Object(f.jsx)(ce.Slide,{title:"4",children:"D"}),Object(f.jsx)(ce.Slide,{title:"5",children:"E"})]})},oe={display:"inline-flex",listStyle:"none",padding:"0px",border:"1px solid black"},ie={flexWrap:"wrap",borderBottom:"0px"},le={flexWrap:"nowrap",borderRight:"0px"},de={cursor:"pointer",display:"inline-flex",justifyContent:"center",minWidth:"100px",width:"100%"},ue={borderBottom:"1px solid black"},me={borderRight:"1px solid black"},je=r.a.createContext();function be(){var e=r.a.useContext(je);if(!e)throw new Error("Toggle compound components cannot be rendered outside the Toggle component");return e}var he=function(e){var t,n;switch(e.direction){case"vertical":t=Object(u.a)(Object(u.a)({},oe),ie),n=Object(u.a)(Object(u.a)({},de),ue);break;case"horizontal":t=Object(u.a)(Object(u.a)({},oe),le),n=Object(u.a)(Object(u.a)({},de),me);break;default:t=oe,n=de}return{listStyle:t,listItemStyle:n}},pe=function(e){var t=e.children,n=e.direction,r=void 0===n?"vertical":n,c=e.onItemClick,s=void 0===c?function(){return null}:c,o=Object(a.useState)(0),l=Object(i.a)(o,2),d=l[0],u=l[1],m=he({direction:r}).listStyle,j=Object(a.useCallback)((function(e){u(e),s(e)}),[s]),b=Object(a.useMemo)((function(){return{direction:r,activeItemIndex:d,onItemClick:j}}),[r,d,j]);return Object(f.jsx)(je.Provider,{value:b,children:Object(f.jsxs)("ul",{"aria-orientation":r,style:m,children:["active: ",d,t]})})},Oe=function(e){var t=e.children,n=e.id,a=be(),r=a.direction,c=a.activeItemIndex,s=a.onItemClick,o=he({direction:r}).listItemStyle,i=c===n,l=i?Object(u.a)(Object(u.a)({},o),{},{backgroundColor:"grey"}):o;return Object(f.jsxs)("div",{style:l,onClick:function(){return s(n)},children:[t," ",i.toString()]})},xe={shoppingCartItem:{width:"100%"},label:{display:"flex",justifyContent:"center",padding:"10px"},labelActive:{backgroundColor:"grey"},extendedDetails:{padding:"10px",borderTop:"1px solid grey"}},fe=function(e){var t=e.children,n=e.extendedDetails,a=e.id,r=void 0===a?Date.now():a,c=be(),s=c.direction,o=c.activeItemIndex,i=c.onItemClick,l=he({direction:s}).listItemStyle,d=o===r,m=(d&&Object(u.a)(Object(u.a)({},l),{},{backgroundColor:"grey"}),d?Object(u.a)(Object(u.a)({},xe.label),xe.labelActive):xe.label);return Object(f.jsxs)("div",{style:xe.shoppingCartItem,onClick:function(){return i(r)},children:[Object(f.jsx)("div",{style:m,children:t}),d&&Object(f.jsxs)("div",{style:xe.extendedDetails,children:["- ",n]})]})},ve=function(){return Object(f.jsxs)(pe,{direction:"vertical",children:[Object(f.jsx)(Oe,{id:1,children:"Eggs"}),Object(f.jsx)(Oe,{id:2,children:"Ham"}),Object(f.jsx)(fe,{id:3,extendedDetails:"Details to show when clicked",children:"Bread"})]})},Ne=function(){var e=localStorage.getItem("name");return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:e}),Object(f.jsx)("input",{typer:"text",value:e,onChange:function(e){return localStorage.setItem("name",e.target.value)}})]})},ge=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("safe-name");e&&r(e)}),[]),Object(a.useEffect)((function(){localStorage.setItem("safe-name",n)}),[n]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:n}),Object(f.jsx)("input",{typer:"text",value:n,onChange:function(e){return r(e.target.value)}})]})},ye=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Collaterals"}),Object(f.jsx)(Ne,{}),Object(f.jsx)(ge,{})]})},Ce=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"[WIP] Random"}),Object(f.jsx)("hr",{}),Object(f.jsx)(re,{}),Object(f.jsx)(se,{}),Object(f.jsx)(ve,{}),Object(f.jsx)(ye,{})]})};Ce.defaultProps={};var ke=Ce,Se=n(17),Ee=(n(117),function(e){var t=e.text,n=e.onClick,r=void 0===n?function(){return null}:n,c=Object(a.useState)(0),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(f.jsxs)("button",{className:"button is-primary is-light mr-4",type:"button",onClick:function(){l((function(e){return e+1})),r()},children:[t," ",o]})}),we=r.a.memo((function(e){var t=e.text,n=e.onClick,r=void 0===n?function(){return null}:n,c=Object(a.useState)(0),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(f.jsxs)("button",{className:"button is-primary is-light mr-4",type:"button",onClick:function(){l((function(e){return e+1})),r()},children:[t," ",o]})})),Pe=function(e){var t=e.name,n=Object(a.useState)(0),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),d=l[0],u=l[1],m=Object(a.useCallback)((function(){s((function(e){return e+1})),s((function(e){return e+1})),s((function(e){return e+1})),u((new Date).toLocaleString())}),[]),j=function(){s((function(e){return e-1})),s((function(e){return e-1})),s((function(e){return e-1})),u((new Date).toLocaleString())};return Object(f.jsxs)("div",{className:"columns is-multiline",children:[Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsxs)("h4",{className:"subtitle is-6",children:[t,": ",c," (atualizado em ",d,")"]}),Object(f.jsx)("p",{children:"Ao clicar nos bot\xf5es em azul pode ser\xe1 gerado um novo render deste Componente Pai assim como seu componentes filhos que n\xe3o est\xe3o memoizados da forma correta, mesmo que eles n\xe3o usem o valor do contador do Componente Pai e n\xe3o teriam a necessidade de sofrer um novo render"}),Object(f.jsx)("button",{className:"button is-link is-light mr-4",type:"button",onClick:m,children:"+"}),Object(f.jsx)("button",{className:"button is-link is-light mr-4",type:"button",onClick:j,children:"-"})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Ao clicar nos bot\xf5es abaixo pode conferir n\xe3o ocorrer\xe1 o render do outro bot\xe3o nem do Componente Pai, por\xe9m ao clicar nos bot\xf5es em azul o bot\xe3o memoizado n\xe3o sofre um render desncess\xe1rio."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 1 - ".concat(t)}),Object(f.jsx)(we,{text:"Bot\xe3o 1 com Memo - ".concat(t)})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Os bot\xf5es abaixo atualizam o contador do Componente Pai e assim causam um novo render nele e em todos seus componentes filhos sem memoiza\xe7\xe3o."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 2 - ".concat(t),onClick:m}),Object(f.jsx)(we,{text:"Bot\xe3o 2 com Memo - ".concat(t),onClick:m})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsxs)("p",{children:["Neste terceiro cenario nosso bot\xe3o memoizado esta sofrendo o render sempre que o componente pai renderiza e isso ocorre pq apesar de memoizado sua prop ",Object(f.jsx)("i",{children:"onClick"})," \xe9 uma fun\xe7\xe3o n\xe3o memoizada com o useCallback e com isso ela ser\xe1 recriada a cada render fazendo com que o bopt\xe3o entenda que \xe9 uma nova fun\xe7\xe3o e seja re-renderizada."]}),Object(f.jsx)(Ee,{text:"Bot\xe3o 3 - ".concat(t),onClick:j}),Object(f.jsx)(we,{text:"Bot\xe3o 3 com Memo - ".concat(t),onClick:j})]})]})},qe=function(){return Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("h3",{className:"title is-4",children:"Componente Pai"}),Object(f.jsx)(Pe,{name:"Componente Filho"})]})},Be=r.a.createContext(),Fe=function(e){var t=e.text,n=e.onClick,r=void 0===n?function(){return null}:n,c=Object(a.useState)(0),s=Object(i.a)(c,2),o=s[0],l=s[1];return console.log("render child ".concat(t)),Object(f.jsxs)("button",{className:"button is-primary is-light mr-4",type:"button",onClick:function(){l((function(e){return e+1})),r()},children:[t," ",o]})},De=r.a.memo((function(e){var t=e.text,n=e.onClick,r=void 0===n?function(){return null}:n,c=Object(a.useState)(0),s=Object(i.a)(c,2),o=s[0],l=s[1];return console.log("render child ".concat(t)),Object(f.jsxs)("button",{className:"button is-primary is-light mr-4",type:"button",onClick:function(){l((function(e){return e+1})),r()},children:[t," ",o]})})),Ie=function(e){var t=e.name,n=Object(a.useContext)(Be),r=n.counters,c=n.addCounter,s=n.incCounter,o=n.decCounter,i=r[t]||{},l=i.time,d=i.value,u=Object(a.useCallback)((function(){s(t)}),[s,t]),m=Object(a.useCallback)((function(){o(t)}),[o,t]);return Object(L.useEffect)((function(){c(t)}),[c,t]),Object(f.jsxs)("div",{className:"columns is-multiline",children:[Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsxs)("h4",{className:"subtitle is-6",children:[t,": ",d," (atualizado em ",l,")"]}),Object(f.jsx)("p",{children:"Ao clicar nos bot\xf5es em azul pode ser\xe1 gerado um novo render deste Componente Pai assim como seu coponentes filhos que n\xe3o est\xe3o memoizados da forma correta, mesmo que eles n\xe3o usem o valor do contador do Componente Pai e n\xe3o teriam a necessidade de sofrer um novo render"}),Object(f.jsx)("button",{className:"button is-link is-light mr-4",type:"button",onClick:u,children:"+"}),Object(f.jsx)("button",{className:"button is-link is-light mr-4",type:"button",onClick:m,children:"-"})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Ao clicar nos bot\xf5es abaixo pode conferir sua independ\xeancia, n\xe3o causando render um ao outro ou no Componente Pai. Por\xe9m ao clicar nos bot\xf5es em azul pdoe conferir que o bot\xe3o memoizado n\xe3o sofre um render desncess\xe1rio enquanto o outro renderzida novamente."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 1 - ".concat(t)}),Object(f.jsx)(we,{text:"Bot\xe3o 1 com Memo - ".concat(t)})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Os bot\xf5es abaixo atualizam o contador do Componente Pai e assim causam um novo render nele e em todos seus componentes filhos sem memoiza\xe7\xe3o. Este exemplo torna evidente como o n\xe3o uso ou mal uso da memoiza\xe7\xe3o podem causar renders inesperados."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 2 - ".concat(t),onClick:u}),Object(f.jsx)(we,{text:"Bot\xe3o 2 com Memo - ".concat(t),onClick:u})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Neste terceiro cenario nosso bot\xe3o memoizado esta sofrendo o render sempre que o componente pai renderiza e isso ocorre pq apesar de memoizado sua prop onClick \xe9 uma fun\xe7\xe3o n\xe3o memoizada com o useCallback e isso faz com que ela seja recriada a cada render causando um novo render no bot\xe3o memoizado que entende que houveram atualiza\xe7\xf5es."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 3 - ".concat(t),onClick:m}),Object(f.jsx)(we,{text:"Bot\xe3o 3 com Memo - ".concat(t),onClick:m})]})]})},Te=function(e){var t=e.name,n=Object(a.useContext)(Be),r=n.counters,c=n.addCounter,s=n.incCounter,o=n.decCounter,i=r[t]||{},l=i.time,d=i.value,u=Object(a.useCallback)((function(){s(t)}),[s,t]),m=Object(a.useCallback)((function(){o(t)}),[o,t]);return Object(L.useEffect)((function(){c(t)}),[c,t]),Object(a.useMemo)((function(){return Object(f.jsxs)("div",{className:"columns is-multiline",children:[Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsxs)("h4",{className:"subtitle is-6",children:[t,": ",d," (atualizado em ",l,")"]}),Object(f.jsx)("p",{children:"Ao clicar nos bot\xf5es em azul pode ser\xe1 gerado um novo render deste Componente Pai assim como seu coponentes filhos que n\xe3o est\xe3o memoizados da forma correta, mesmo que eles n\xe3o usem o valor do contador do Componente Pai e n\xe3o teriam a necessidade de sofrer um novo render"}),Object(f.jsx)("button",{className:"button is-link is-light mr-4",type:"button",onClick:u,children:"+"}),Object(f.jsx)("button",{className:"button is-link is-light mr-4",type:"button",onClick:m,children:"-"})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Ao clicar nos bot\xf5es abaixo pode conferir sua independ\xeancia, n\xe3o causando render um ao outro ou no Componente Pai. Por\xe9m ao clicar nos bot\xf5es em azul pdoe conferir que o bot\xe3o memoizado n\xe3o sofre um render desncess\xe1rio enquanto o outro renderzida novamente."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 1 - ".concat(t)}),Object(f.jsx)(we,{text:"Bot\xe3o 1 com Memo - ".concat(t)})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Os bot\xf5es abaixo atualizam o contador do Componente Pai e assim causam um novo render nele e em todos seus componentes filhos sem memoiza\xe7\xe3o. Este exemplo torna evidente como o n\xe3o uso ou mal uso da memoiza\xe7\xe3o podem causar renders inesperados."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 2 - ".concat(t),onClick:u}),Object(f.jsx)(we,{text:"Bot\xe3o 2 com Memo - ".concat(t),onClick:u})]}),Object(f.jsxs)("div",{className:"column is-12",children:[Object(f.jsx)("p",{children:"Neste terceiro cenario nosso bot\xe3o memoizado esta sofrendo o render sempre que o componente pai renderiza e isso ocorre pq apesar de memoizado sua prop onClick \xe9 uma fun\xe7\xe3o n\xe3o memoizada com o useCallback e isso faz com que ela seja recriada a cada render causando um novo render no bot\xe3o memoizado que entende que houveram atualiza\xe7\xf5es."}),Object(f.jsx)(Ee,{text:"Bot\xe3o 3 - ".concat(t),onClick:m}),Object(f.jsx)(we,{text:"Bot\xe3o 3 com Memo - ".concat(t),onClick:m})]})]})}),[t,d])},Re=function(e){var t=e.name,n=Object(a.useContext)(Be),r=n.counters,c=n.addCounter,s=n.incCounter,o=n.decCounter,i=r[t]||{},l=i.time,d=i.value,u=Object(a.useCallback)((function(){s(t)}),[s,t]),m=Object(a.useCallback)((function(){o(t)}),[o,t]);return Object(L.useEffect)((function(){c(t)}),[c,t]),Object(f.jsx)(Ae,{counter:d,name:t,time:l,handleDecrease:m,handleIncrease:u})},Ae=r.a.memo((function(e){var t=e.name,n=e.counter,a=e.time,r=e.handleIncrease,c=e.handleDecrease;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{children:[t,": ",n," (updated at ",a,")"]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"button is-primary is-light mr-4",type:"button",onClick:r,children:"+"}),Object(f.jsx)("button",{className:"button is-primary is-light mr-4",type:"button",onClick:c,children:"-"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Fe,{text:"child-".concat(t)}),Object(f.jsx)(De,{text:"memo-".concat(t)})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Fe,{text:"child-".concat(t,"-inc"),onClick:r}),Object(f.jsx)(De,{text:"memo-".concat(t,"-inc"),onClick:r})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Fe,{text:"child-".concat(t,"-dec"),onClick:c}),Object(f.jsx)(De,{text:"memo-".concat(t,"-dec"),onClick:c})]})]})})),Le=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(Se.a)({},e,{value:t,time:""}))}))}),[]),s=Object(a.useCallback)((function(e,t){r((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(Se.a)({},e,t(n[e])))}))}),[]),o=Object(a.useCallback)((function(e){s(e,(function(e){return{value:e.value+1,time:(new Date).toLocaleString()}}))}),[s]),l=Object(a.useCallback)((function(e){s(e,(function(e){return{value:e.value-1,time:(new Date).toLocaleString()}}))}),[s]),d=Object(a.useMemo)((function(){return{incCounter:o,decCounter:l,addCounter:c,counters:n}}),[o,l,c,n]);return Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("h3",{className:"title is-4",children:"Componente Pai"}),Object(f.jsxs)(Be.Provider,{value:d,children:[Object(f.jsx)(Ie,{name:"component 1"}),Object(f.jsx)(Ie,{name:"component 2"}),Object(f.jsx)(Te,{name:"component 3"}),Object(f.jsx)(Re,{name:"component 4"})]})]})},ze=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"[WIP] React Lifecycle"}),Object(f.jsx)("hr",{}),Object(f.jsx)(qe,{}),Object(f.jsx)(Le,{})]})};ze.defaultProps={};var Me=ze,Ve=n(20),Ue=(n(118),n(15)),Je=n(18),He=["label"],Ge=["children"],We=["label","children"],_e=["label"],Qe=["label"],$e=["children"],Xe=["label","children"],Ke=Je.b({firstName:Je.c().max(15,"Must be 15 characters or less").required("Required"),lastName:Je.c().max(20,"Must be 20 characters or less").required("Required"),email:Je.c().email("Invalid email address").required("Required")}),Ye={firstName:"",lastName:"",email:""},Ze=function(){var e=Object(Ue.e)({initialValues:Ye,validationSchema:Ke,onSubmit:function(e){alert(JSON.stringify(e,null,2))}});return Object(f.jsxs)("form",{className:"box",onSubmit:e.handleSubmit,children:[Object(f.jsx)("h1",{className:"subtitle is-5",children:"Signup Form"}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{className:"input ".concat(e.errors.firstName?"is-danger":""),id:"firstName",name:"firstName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.firstName})}),e.touched.firstName&&e.errors.firstName?Object(f.jsx)("p",{className:"help is-danger",children:e.errors.firstName}):null]}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{className:"input ".concat(e.errors.lastName?"is-danger":""),id:"lastName",name:"lastName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.lastName})}),e.touched.lastName&&e.errors.lastName?Object(f.jsx)("p",{className:"help is-danger",children:e.errors.lastName}):null]}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:"email",children:"Email Address"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{className:"input ".concat(e.errors.email?"is-danger":""),id:"email",name:"email",type:"email",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email})}),e.touched.email&&e.errors.email?Object(f.jsx)("p",{className:"help is-danger",children:e.errors.email}):null]}),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-primary",children:"Submit"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-link is-light",children:"Cancel"})})]})]})},et=r.a.memo((function(e){var t=e.label,n=Object(Ve.a)(e,He),a=Object(Ue.d)(n),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:n.id||n.name,children:t}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",Object(u.a)(Object(u.a)({className:"input ".concat(s.error?"is-danger":""),type:"text"},c),n))}),s.touched&&s.error?Object(f.jsx)("div",{className:"error",children:s.error}):null]})})),tt=r.a.memo((function(e){var t=e.children,n=Object(Ve.a)(e,Ge),a=Object(Ue.d)(Object(u.a)(Object(u.a)({},n),{},{type:"checkbox"})),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(f.jsx)("div",{className:"field",children:Object(f.jsxs)("div",{className:"control",children:[Object(f.jsxs)("label",{className:"checkbox",children:[Object(f.jsx)("input",Object(u.a)(Object(u.a)({type:"checkbox"},c),n)),t]}),s.touched&&s.error?Object(f.jsx)("div",{className:"error",children:s.error}):null]})})})),nt=r.a.memo((function(e){var t=e.label,n=e.children,a=Object(Ve.a)(e,We),r=Object(Ue.d)(a),c=Object(i.a)(r,2),s=c[0],o=c[1];return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:a.id||a.name,children:t}),Object(f.jsx)("div",{className:"control",children:Object(f.jsxs)("div",{className:"select",children:[Object(f.jsx)("select",Object(u.a)(Object(u.a)(Object(u.a)({},s),a),{},{children:n})),o.touched&&o.error?Object(f.jsx)("div",{className:"error",children:o.error}):null]})})]})})),at=Je.b({firstName:Je.c().max(15,"Must be 15 characters or less").required("Required"),lastName:Je.c().max(20,"Must be 20 characters or less").required("Required"),email:Je.c().email("Invalid email address").required("Required"),acceptedTerms:Je.a().required("Required").oneOf([!0],"You must accept the terms and conditions."),jobType:Je.c().oneOf(["designer","development","product","other"],"Invalid Job Type").required("Required")}),rt={firstName:"",lastName:"",email:"",acceptedTerms:!1,jobType:""},ct=function(){var e=Object(a.useCallback)((function(e){alert(JSON.stringify(e,null,2))}),[]);return Object(f.jsx)(Ue.c,{initialValues:rt,validationSchema:at,onSubmit:e,children:Object(f.jsxs)(Ue.b,{className:"box",children:[Object(f.jsx)("h1",{className:"subtitle is-5",children:"Signup Form"}),Object(f.jsx)(et,{label:"First Name",name:"firstName",type:"text",placeholder:"Jane"}),Object(f.jsx)(et,{label:"Last Name",name:"lastName",type:"text",placeholder:"Doe"}),Object(f.jsx)(et,{label:"Email Address",name:"email",type:"email",placeholder:"jane@formik.com"}),Object(f.jsxs)(nt,{label:"Job Type",name:"jobType",children:[Object(f.jsx)("option",{value:"",children:"Select a job type"}),Object(f.jsx)("option",{value:"designer",children:"Designer"}),Object(f.jsx)("option",{value:"development",children:"Developer"}),Object(f.jsx)("option",{value:"product",children:"Product Manager"}),Object(f.jsx)("option",{value:"other",children:"Other"})]}),Object(f.jsx)(tt,{name:"acceptedTerms",children:"I accept the terms and conditions"}),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-primary",children:"Submit"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-link is-light",children:"Cancel"})})]})]})})},st={friends:[{name:"",email:""}]},ot=function(){return Object(f.jsx)(Ue.c,{initialValues:st,onSubmit:function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:alert(JSON.stringify(t,null,2));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.values;return Object(f.jsxs)(Ue.b,{className:"box",children:[Object(f.jsx)("h1",{className:"subtitle is-5",children:"Invite friends"}),Object(f.jsx)(Ue.a,{name:"friends",children:function(e){e.insert;var n=e.remove,a=e.push;return Object(f.jsxs)("div",{children:[t.friends.length>0&&t.friends.map((function(e,t){return Object(f.jsxs)("div",{className:"columns",children:[Object(f.jsx)("div",{className:"column",children:Object(f.jsx)(et,{label:"Name",name:"friends.".concat(t,".name"),type:"text",placeholder:"Jane Doe"})}),Object(f.jsx)("div",{className:"column",children:Object(f.jsx)(et,{label:"Email",name:"friends.".concat(t,".email"),type:"email",placeholder:"jane@formik.com"})}),Object(f.jsx)("div",{className:"column",children:Object(f.jsx)("button",{"aria-label":"Delete",type:"button",className:"delete",onClick:function(){return n(t)}})})]},t)})),Object(f.jsx)("div",{className:"field mb-4",children:Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-success",onClick:function(){return a({name:"",email:""})},children:"Add Friend"})})})]})}}),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-primary",children:"Invite"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-link is-light",children:"Cancel"})})]})]})}})};function it(){return(it=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:return e.abrupt("return","".concat(t,":").concat(n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt=function(e){var t,n=e.label,a=Object(Ve.a)(e,_e),r=Object(Ue.f)(),c=r.values,s=c.textA,o=c.textB,l=r.setFieldValue,d=Object(Ue.d)(a),m=Object(i.a)(d,2),j=m[0],b=m[1];return Object(L.useEffect)((function(){var e=!0;return""!==s.trim()&&""!==o.trim()&&function(e,t){return it.apply(this,arguments)}(s,o).then((function(t){e&&l(a.name,t)})),function(){e=!1}}),[o,s,l,a.name]),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:a.id||a.name,children:n}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",Object(u.a)(Object(u.a)({className:"input",disabled:!0},a),j))}),null!==(t=Boolean(b.touched&&b.error))&&void 0!==t?t:Object(f.jsx)("div",{children:b.error.toString()})]})},dt=function(){var e=Object(a.useCallback)((function(e){alert(JSON.stringify(e,null,2))}),[]);return console.log("LinkedForm"),Object(f.jsx)(Ue.c,{initialValues:{textA:"",textB:"",textC:""},onSubmit:e,children:Object(f.jsxs)(Ue.b,{className:"box",children:[Object(f.jsx)("h1",{className:"subtitle is-5",children:"Linked fields"}),Object(f.jsx)(et,{label:"textA",name:"textA"}),Object(f.jsx)(et,{label:"textB",name:"textB"}),Object(f.jsx)(lt,{label:"textC",name:"textC"}),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-primary",children:"Submit"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-link is-light",children:"Cancel"})})]})]})})},ut=function(e){var t=Object(a.useState)(e),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)({}),o=Object(i.a)(s,2),l=o[0],d=o[1],m=Object(a.useState)({}),j=Object(i.a)(m,2),b=j[0],h=j[1],p=Object(a.useCallback)((function(e){c((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(Se.a)({},e.target.name,e.target.value))}))}),[]),O=Object(a.useCallback)((function(e){h((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(Se.a)({},e.target.name,!0))}))}),[]);return Object(L.useEffect)((function(){Ke.validate(r,{abortEarly:!1}).catch((function(e){return d(e.inner.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(Se.a)({},t.path,t.errors))}),{}))}))}),[r]),{handleChange:p,handleBlur:O,values:r,errors:l,touched:b}},mt=function(){var e=ut(Ye),t=e.values,n=e.errors,r=e.touched,c=e.handleChange,s=e.handleBlur,o=Object(a.useCallback)((function(){alert(JSON.stringify(t,null,2))}),[t]);return console.log("SignupFormSimple"),Object(f.jsxs)("form",{className:"box",onSubmit:o,children:[Object(f.jsx)("h1",{className:"subtitle is-5",children:"Signup Form"}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:"firstName",children:"First Name"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{className:"input ".concat(n.firstName?"is-danger":""),id:"firstName",name:"firstName",type:"text",onChange:c,onBlur:s,value:t.firstName})}),r.firstName&&n.firstName?Object(f.jsx)("p",{className:"help is-danger",children:n.firstName}):null]}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:"lastName",children:"Last Name"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{className:"input ".concat(n.lastName?"is-danger":""),id:"lastName",name:"lastName",type:"text",onChange:c,onBlur:s,value:t.lastName})}),r.lastName&&n.lastName?Object(f.jsx)("p",{className:"help is-danger",children:n.lastName}):null]}),Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:"email",children:"Email Address"}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{className:"input ".concat(n.email?"is-danger":""),id:"email",name:"email",type:"email",onChange:c,onBlur:s,value:t.email})}),r.email&&n.email?Object(f.jsx)("p",{className:"help is-danger",children:n.email}):null]}),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-primary",children:"Submit"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-link is-light",children:"Cancel"})})]})]})},jt=r.a.createContext(),bt=function(e){var t=e.name,n=Object(a.useContext)(jt),r=n.values,c=n.errors,s=n.touched,o=n.handleChange,i=n.handleBlur;return[{value:r[t],onChange:o,onBlur:i},{error:c[t],touched:s[t]}]},ht=r.a.memo((function(e){var t=e.label,n=Object(Ve.a)(e,Qe),a=bt(n),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:n.id||n.name,children:t}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",Object(u.a)(Object(u.a)({className:"input ".concat(s.error?"is-danger":""),type:"text"},c),n))}),s.touched&&s.error?Object(f.jsx)("div",{className:"error",children:s.error}):null]})})),pt=r.a.memo((function(e){var t=e.children,n=Object(Ve.a)(e,$e),a=bt(Object(u.a)(Object(u.a)({},n),{},{type:"checkbox"})),r=Object(i.a)(a,2),c=r[0],s=r[1];return Object(f.jsx)("div",{className:"field",children:Object(f.jsxs)("div",{className:"control",children:[Object(f.jsxs)("label",{className:"checkbox",children:[Object(f.jsx)("input",Object(u.a)(Object(u.a)({type:"checkbox"},c),n)),t]}),s.touched&&s.error?Object(f.jsx)("div",{className:"error",children:s.error}):null]})})})),Ot=r.a.memo((function(e){var t=e.label,n=e.children,a=Object(Ve.a)(e,Xe),r=bt(a),c=Object(i.a)(r,2),s=c[0],o=c[1];return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{className:"label",htmlFor:a.id||a.name,children:t}),Object(f.jsx)("div",{className:"control",children:Object(f.jsxs)("div",{className:"select",children:[Object(f.jsx)("select",Object(u.a)(Object(u.a)(Object(u.a)({},s),a),{},{children:n})),o.touched&&o.error?Object(f.jsx)("div",{className:"error",children:o.error}):null]})})]})})),xt=function(){var e=ut(rt),t=e.values,n=e.errors,r=e.touched,c=e.handleChange,s=e.handleBlur,o=Object(a.useCallback)((function(){alert(JSON.stringify(t,null,2))}),[t]),i=Object(a.useMemo)((function(){return{values:t,errors:n,touched:r,schema:at,handleChange:c,handleBlur:s}}),[n,s,c,r,t]);return console.log("SignupForm2Simple"),Object(f.jsx)(jt.Provider,{value:i,children:Object(f.jsxs)("form",{className:"box",onSubmit:o,children:[Object(f.jsx)("h1",{children:"Signup Form Simple 2"}),Object(f.jsx)(ht,{label:"First Name",name:"firstName",type:"text",placeholder:"Jane"}),Object(f.jsx)(ht,{label:"Last Name",name:"lastName",type:"text",placeholder:"Doe"}),Object(f.jsx)(ht,{label:"Email Address",name:"email",type:"email",placeholder:"jane@formik.com"}),Object(f.jsxs)(Ot,{label:"Job Type",name:"jobType",children:[Object(f.jsx)("option",{value:"",children:"Select a job type"}),Object(f.jsx)("option",{value:"designer",children:"Designer"}),Object(f.jsx)("option",{value:"development",children:"Developer"}),Object(f.jsx)("option",{value:"product",children:"Product Manager"}),Object(f.jsx)("option",{value:"other",children:"Other"})]}),Object(f.jsx)(pt,{name:"acceptedTerms",children:"I accept the terms and conditions"}),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-primary",children:"Submit"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"button",className:"button is-link is-light",children:"Cancel"})})]})]})})},ft=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"Form Handling"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Objetivo aqui \xe9 testar diferentes formas de tratamento de formul\xe1rios em react, para iniciar testaremos a lib ",Object(f.jsx)("a",{href:"https://formik.org/",children:"Formik"})," usando o hook useFormk.",Object(f.jsx)("br",{}),"Neste teste achei bem pr\xe1tico o uso do hook, porem o html se torna bem extenso e repetitivo."]}),Object(f.jsx)(N,{children:'const SignupForm = () => {\n        const formik = useFormik({\n          initialValues: signupInitialValues,\n          validationSchema: signupSchema,\n          onSubmit: (values) => {\n            alert(JSON.stringify(values, null, 2));\n          },\n        });\n        return (\n          <form className="box" onSubmit={formik.handleSubmit}>\n            <h1 className="subtitle is-5">Signup Form</h1>\n            <div className="field">\n              <label className="label" htmlFor="firstName">First Name</label>\n              <div className="control">\n                <input\n                  className="input"\n                  id="firstName"\n                  name="firstName"\n                  type="text"\n                  onChange={formik.handleChange}\n                  onBlur={formik.handleBlur}\n                  value={formik.values.firstName}\n                />\n              </div>\n              {formik.touched.firstName && formik.errors.firstName ? (\n                <p className="help is-danger">{formik.errors.firstName}</p>\n              ) : null}\n            </div>\n            {/* Resto do html do formul\xe1rio  */}\n      \n            <div className="field is-grouped">\n              <div className="control">\n                <button type="submit" className="button is-primary">Submit</button>\n              </div>\n              <div className="control">\n                <button type="button" className="button is-link is-light">Cancel</button>\n              </div>\n            </div>\n          </form>\n        );\n      };'}),Object(f.jsx)(Ze,{}),Object(f.jsx)("p",{children:"Para nosso segundo teste eu usei o Formik element no JSX e abstrai o html dos campos em componentes menores usando o hook useField, essa abordagem garante muito mais reus de c\xf3digo e pouca repeti\xe7\xe3o no JSX."}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"OBS."})," dentro do element Formik podemos usar o ",Object(f.jsx)("i",{children:"form"})," porem teremos que passar manualmente os eventos de onSubmit e onReset, enquanto o elemento ",Object(f.jsx)("i",{children:"Form"}),"abstrai essa necessidade reduzindo a quantidade de c\xf3digo escrito."]}),Object(f.jsx)(N,{children:'const MyTextInput = React.memo(({ label, ...props }) => {\n  const [field, meta] = useField(props);\n  return (\n    <div className="field">\n      <label className="label" htmlFor={props.id || props.name}>{label}</label>\n      <div className="control">\n        <input\n          className=\'input\'\n          type="text"\n          {...field}\n          {...props}\n        />\n      </div>\n      {meta.touched && meta.error ? (\n        <div className="error">{meta.error}</div>\n      ) : null}\n    </div>\n  );\n});\nconst SignupForm = () => {\n  const handleSubmit = useCallback((values) => {\n    alert(JSON.stringify(values, null, 2));\n  }, []);\n\n  return (\n    <Formik\n      initialValues={signup2InitialValues}\n      validationSchema={signup2Schema}\n      onSubmit={handleSubmit}\n    >\n      <Form className="box">\n        <h1 className="subtitle is-5">Signup Form</h1>\n        <MyTextInput\n          label="First Name"\n          name="firstName"\n          type="text"\n          placeholder="Jane"\n        />\n\n        <MyTextInput\n          label="Last Name"\n          name="lastName"\n          type="text"\n          placeholder="Doe"\n        />\n\n        {/* Resto do html do formul\xe1rio  */}\n\n        <div className="field is-grouped">\n          <div className="control">\n            <button type="submit" className="button is-primary">Submit</button>\n          </div>\n          <div className="control">\n            <button type="button" className="button is-link is-light">Cancel</button>\n          </div>\n        </div>\n      </Form>\n    </Formik>\n  );\n};'}),Object(f.jsx)(ct,{}),Object(f.jsx)("p",{children:"Com os testes anteriores conclui que o Formik de fato \xe9 uma lib bem completa que permite formas variadas de uso, porem para nosso teceiro teste vamos tentar replicar de forma minima o funciomaneto dos testes anteriores sem o uso da lib do Formik. Esta ser\xe1 uma forma incrivel de entender melhor o funcionamento dela ou at\xe9 mesmo replicar sua facilidade em projetos menores que n\xe3o queiram importar a lib completa para dentro das dependencias."}),Object(f.jsx)("p",{children:"Para replicar o nosso primeiro experimento eu precisei criar um hook similar ao useFormik, tarefa que se mostrou mais simples do que eu esperava e com poucas linhas consegui faz\xea-lo funcionar."}),Object(f.jsx)(N,{children:"const useForm = (initialValues) => {\n  const [values, setValues] = useState(initialValues);\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const handleChange = useCallback((e) => {\n    // eslint-disable-next-line no-shadow\n    setValues((values) => ({ ...values, [e.target.name]: e.target.value }));\n  }, []);\n\n  const handleBlur = useCallback((e) => {\n    // eslint-disable-next-line no-shadow\n    setTouched((touched) => ({ ...touched, [e.target.name]: true }));\n  }, []);\n\n  useEffect(() => {\n    const validation = () => {\n      signupSchema.validate(values, { abortEarly: false })\n        .catch((yupValidation) => setErrors(getYupErrors(yupValidation)));\n    };\n    validation();\n  }, [values]);\n\n  return {\n    handleChange, handleBlur, values, errors, touched,\n  };\n};"}),Object(f.jsx)(mt,{}),Object(f.jsx)("p",{children:"Para replicar o nosso segundo teste foi necess\xe1rio criar um hook similar ao useField, o que tambem consegui fazer com poucas linhas."}),Object(f.jsx)(N,{children:"const FormContext = React.createContext();\n\nconst useFormField = ({ name }) => {\n  const {\n    values, errors, touched,\n    handleChange, handleBlur,\n  } = useContext(FormContext);\n\n  return [{\n    value: values[name],\n    onChange: handleChange,\n    onBlur: handleBlur,\n  },\n  {\n    error: errors[name],\n    touched: touched[name],\n  },\n  ];\n};"}),Object(f.jsx)(xt,{}),Object(f.jsx)("p",{children:"Apesar do sucesso deste experimento, aqui implementamos apenas uma parte pequena de um lib bem completa e testada e com certeza o recomendado seria usar o Formik e n\xe3o recriar sua pr\xf3pria lib, para finalizar temos mais alguns testes de uso do Formik e todo seu poder."}),Object(f.jsx)(ot,{}),Object(f.jsx)(dt,{})]})};ft.defaultProps={};var vt=ft,Nt=n.p+"static/media/logo.6ce24c58.svg",gt=(n(217),n(29)),yt=n.n(gt),Ct=function(e,t){switch(t.type){case"FETCH_INIT":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:!1,data:t.data});case"FETCH_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},kt=function(e,t){var n=Object(a.useState)(e),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useReducer)(Ct,{isLoading:!1,isError:!1,data:t}),l=Object(i.a)(o,2),d=l[0],u=l[1];return Object(a.useEffect)((function(){var e=!1,t=function(){var t=Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e||u({type:"FETCH_INIT"}),t.prev=1,t.next=4,yt()(c);case 4:n=t.sent,e||u({type:"FETCH_SUCCESS",data:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||u({type:"FETCH_FAILURE",error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[c]),[d,s]},St=function(e,t){var n=t.url,r=t.data,c=function(){var t=Object(a.useState)(r),c=Object(i.a)(t,2),s=c[0],o=c[1],l=Object(a.useState)(n),d=Object(i.a)(l,2),m=d[0],j=d[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),p=h[0],v=h[1],N=Object(a.useState)(!1),g=Object(i.a)(N,2),y=g[0],C=g[1];Object(a.useEffect)((function(){var e=!1,t=function(){var t=Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),C(!1),t.prev=2,t.next=5,yt()(m);case 5:n=t.sent,e||(o(n.data),v(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e||(C(!0),v(!1));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!0}}),[m]);for(var k=arguments.length,S=new Array(k),E=0;E<k;E++)S[E]=arguments[E];return Object(f.jsx)(e,Object(u.a)(Object(u.a)({},S),{},{isLoading:p,isError:y,data:s,doFetch:j}))};return c.displayName="WithDataFetching(".concat(e.name,")"),c},Et=function(e){var t=e.title,n=e.children,a=e.value,r=e.onChange,c=e.onSubmit;return Object(f.jsxs)("article",{className:"panel is-primary",children:[Object(f.jsx)("p",{className:"panel-heading",children:t}),Object(f.jsx)("div",{className:"panel-block",children:Object(f.jsxs)("form",{className:"control has-icons-left",onSubmit:c,children:[Object(f.jsx)("input",{className:"input is-primary",type:"text",placeholder:"Search",value:a,onChange:r}),Object(f.jsx)("span",{className:"icon is-left",children:Object(f.jsx)("i",{className:"mdi mdi-magnify","aria-hidden":"true"})})]})}),n]})},wt=function(){var e=Object(a.useState)({hits:[]}),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("react"),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(a.useState)("http://hn.algolia.com/api/v1/search?query=react"),u=Object(i.a)(d,2),m=u[0],j=u[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),p=h[0],v=h[1],N=Object(a.useState)(!1),g=Object(i.a)(N,2),y=g[0],C=g[1],k=!y&&!p&&0===n.hits.length;Object(a.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),C(!1),e.prev=2,e.next=5,yt()(m);case 5:t=e.sent,r(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),C(!0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[m]);return Object(f.jsxs)(Et,{title:"ArticlesPaneV1",onSubmit:function(e){j("http://hn.algolia.com/api/v1/search?query=".concat(o)),e.preventDefault()},value:o,onChange:function(e){return l(e.target.value)},children:[p&&Object(f.jsx)("progress",{className:"progress is-small is-primary",max:"100"}),!p&&y&&Object(f.jsx)("div",{className:"notification is-danger",children:"Something got wrong, please try again after some seconds"}),!y&&!p&&Object(f.jsxs)(f.Fragment,{children:[k&&Object(f.jsx)("div",{className:"notification is-warning",children:"Results not found, try another search term"}),!k&&n.hits.slice(0,5).map((function(e){return Object(f.jsx)("a",{href:e.url,target:"_blank",className:"panel-block",rel:"noreferrer",children:e.title},e.objectID)}))]})]})},Pt=function(e){var t=e.children,n=e.baseUrl,r=e.queryParams,c=e.Placeholder,s=e.Empty,o=e.Error,l=Object(a.useState)([]),d=Object(i.a)(l,2),u=d[0],m=d[1],j=Object(a.useState)(!1),b=Object(i.a)(j,2),h=b[0],p=b[1],v=Object(a.useState)(!1),N=Object(i.a)(v,2),g=N[0],y=N[1],C=!g&&!h&&0===u.length;return Object(a.useEffect)((function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),y(!1),e.prev=2,e.next=5,yt.a.get("".concat(n),{params:r});case 5:t=e.sent,m(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),y(!0);case 12:p(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,r]),Object(f.jsxs)(f.Fragment,{children:[g&&Object(f.jsx)(o,{}),h&&Object(f.jsx)(c,{}),!h&&!g&&(C?Object(f.jsx)(s,{}):Object(f.jsx)(t,{data:u}))]})},qt=function(){var e=Object(a.useState)("react"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=kt("http://hn.algolia.com/api/v1/search?query=react",{hits:[]}),s=Object(i.a)(c,2),o=s[0],l=o.data,d=o.isLoading,u=o.isError,m=s[1],j=!u&&!d&&0===l.hits.length;return Object(f.jsxs)(Et,{title:"ArticlesPaneV2",onSubmit:function(e){m("http://hn.algolia.com/api/v1/search?query=".concat(n)),e.preventDefault()},value:n,onChange:function(e){return r(e.target.value)},children:[d&&Object(f.jsx)("progress",{className:"progress is-small is-primary",max:"100"}),!d&&u&&Object(f.jsx)("div",{className:"notification is-danger",children:"Something got wrong, please try again after some seconds"}),!u&&!d&&Object(f.jsxs)(f.Fragment,{children:[j&&Object(f.jsx)("div",{className:"notification is-warning",children:"Results not found, try another search term"}),!j&&l.hits.slice(0,5).map((function(e){return Object(f.jsx)("a",{href:e.url,target:"_blank",className:"panel-block",rel:"noreferrer",children:e.title},e.objectID)}))]})]})},Bt=St((function(e){var t=e.data,n=e.isLoading,r=e.isError,c=e.doFetch,s=Object(a.useState)("react"),o=Object(i.a)(s,2),l=o[0],d=o[1],u=!r&&!n&&0===t.hits.length;return Object(f.jsxs)(Et,{title:"ArticlesPaneV3",onSubmit:function(e){c("http://hn.algolia.com/api/v1/search?query=".concat(l)),e.preventDefault()},value:l,onChange:function(e){return d(e.target.value)},children:[n&&Object(f.jsx)("progress",{className:"progress is-small is-primary",max:"100"}),!n&&r&&Object(f.jsx)("div",{className:"notification is-danger",children:"Something got wrong, please try again after some seconds"}),!r&&!n&&Object(f.jsxs)(f.Fragment,{children:[u&&Object(f.jsx)("div",{className:"notification is-warning",children:"Results not found, try another search term"}),!u&&t.hits.slice(0,5).map((function(e){return Object(f.jsx)("a",{href:e.url,target:"_blank",className:"panel-block",rel:"noreferrer",children:e.title},e.objectID)}))]})]})}),{url:"http://hn.algolia.com/api/v1/search?query=react",data:{hits:[]}}),Ft=function(){var e=Object(a.useState)("react"),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({query:n}),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(f.jsx)(Et,{title:"ArticlesPaneV4",onSubmit:function(e){l(Object(u.a)(Object(u.a)({},o),{},{query:n})),e.preventDefault()},value:n,onChange:function(e){return r(e.target.value)},children:Object(f.jsx)(Pt,{baseUrl:"http://hn.algolia.com/api/v1/search",queryParams:o,Placeholder:function(){return Object(f.jsx)("progress",{className:"progress is-small is-primary",max:"100"})},Empty:function(){return Object(f.jsx)("div",{className:"notification is-warning",children:"Results not found, try another search term"})},Error:function(){return Object(f.jsx)("div",{className:"notification is-danger",children:"Something got wrong, please try again after some seconds"})},children:function(e){var t=e.data;return(void 0===t?{}:t).hits.slice(0,5).map((function(e){return e.title&&Object(f.jsx)("a",{href:e.url,target:"_blank",className:"panel-block",rel:"noreferrer",children:e.title},e.objectID)}))}})})},Dt=(function(e){var t,n="pending",a=e.then((function(e){n="success",t=e}),(function(e){n="error",t=e}))}(fetch("http://hn.algolia.com/api/v1/search?query=react").then((function(e){return e.json()})).then((function(e){return e.data}))),function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"Fetch data "}),Object(f.jsx)("hr",{}),Object(f.jsx)("p",{children:"O fetch de dados \xe9 uma terefa comum no dia a dia dos desenvolvedores e podemos fazer isso manualmente ou com alguma lib como o axios sem muita dificulade. Sendo assim  a proposta deste experimento \xe9 entender as melhores abordagens para a DX (Dev Experience), ou seja, facilidade de manuten\xe7\xe3o de menor quantidade de linhas duplicadas."}),Object(f.jsx)("p",{children:"O primeiro experimento \xe9 implementar a l\xf3gica do fetch completamente dentro do componente, sem reuso nenhum de l\xf3gica essa acaba sendo a abordagem com maior quantidade de c\xf3digos duplicados entre componentes."}),Object(f.jsx)(N,{children:'const ArticlesPanel = () => {\n  const [data, setData] = useState({ hits: [] });\n  const [query, setQuery] = useState(\'react\');\n  const [url, setUrl] = useState(\'http://hn.algolia.com/api/v1/search?query=react\');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const isEmpty = !isError && !isLoading && data.hits.length === 0;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      setIsError(false);\n      try {\n        const result = await axios(url);\n        setData(result.data);\n      } catch (e) {\n        setIsError(true);\n      }\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, [url]);\n\n  const handleSubmit = (e) => {\n    setUrl(`http://hn.algolia.com/api/v1/search?query=${query}`);\n    e.preventDefault();\n  };\n\n  return (\n    <SearchPanelTemplate title="ArticlesPaneV1" onSubmit={handleSubmit} value={query} onChange={(event) => setQuery(event.target.value)}>\n      {isLoading && (<progress className="progress is-small is-primary" max="100" />)}\n      {!isLoading && isError && <div className="notification is-danger">Something got wrong, please try again after some seconds</div>}\n      {!isError && !isLoading && (\n      <>\n        {isEmpty && (<div className="notification is-warning">Results not found, try another search term</div>)}\n        {!isEmpty && (\n          data.hits.map((item) => (\n            <a key={item.objectID} href={item.url} target="_blank" className="panel-block" rel="noreferrer">\n              {item.title}\n            </a>\n          ))\n        )}\n      </>\n      )}\n    </SearchPanelTemplate>\n  );\n};\n      '}),Object(f.jsx)(wt,{}),Object(f.jsx)("p",{children:"O segundo experimento \xe9 implementar um hook para abstrair a l\xf3gica do fetch e possibilitar que ela seja reusada em outros componentes, essa abordadagem \xe9 bem flexivel e deixa o c\xf3digo limpo facilitando a manute\xe7\xe3o e evitando a repeti\xe7\xe3o de c\xf3digo."}),Object(f.jsx)(N,{children:'const ArticlesPanel = () => {\n  const [query, setQuery] = useState(\'react\');\n  const [{ data, isLoading, isError }, doFetch] = useDataApi(\n    \'http://hn.algolia.com/api/v1/search?query=react\',\n    { hits: [] },\n  );\n\n  const isEmpty = !isError && !isLoading && data.hits.length === 0;\n\n  const handleSubmit = (e) => {\n    doFetch(`http://hn.algolia.com/api/v1/search?query=${query}`);\n    e.preventDefault();\n  };\n\n\n  return (\n    <SearchPanelTemplate title="ArticlesPaneV1" onSubmit={handleSubmit} value={query} onChange={(event) => setQuery(event.target.value)}>\n      {isLoading && (<progress className="progress is-small is-primary" max="100" />)}\n      {!isLoading && isError && <div className="notification is-danger">Something got wrong, please try again after some seconds</div>}\n      {!isError && !isLoading && (\n      <>\n        {isEmpty && (<div className="notification is-warning">Results not found, try another search term</div>)}\n        {!isEmpty && (\n          data.hits.map((item) => (\n            <a key={item.objectID} href={item.url} target="_blank" className="panel-block" rel="noreferrer">\n              {item.title}\n            </a>\n          ))\n        )}\n      </>\n      )}\n    </SearchPanelTemplate>\n  );\n};\n      '}),Object(f.jsx)(qt,{}),Object(f.jsx)("p",{children:"O terceiro experimento \xe9 implementar uma HOC para abstrair a l\xf3gica do fetch e possibilitar que ela seja reusada em outros componentes, essa abordadagem n\xe3o se mostrou muito flexivel mas deixa o c\xf3digo limpo e tambem evita a repeti\xe7\xe3o de c\xf3digo."}),Object(f.jsx)(N,{children:'const ArticlesV3 = ({\n  data, isLoading, isError, doFetch,\n}) => {\n  const [query, setQuery] = useState(\'react\');\n  const isEmpty = !isError && !isLoading && data.hits.length === 0;\n\n  const handleSubmit = (e) => {\n    doFetch(`http://hn.algolia.com/api/v1/search?query=${query}`);\n    e.preventDefault();\n  };\n\n  return (\n    <SearchPanelTemplate title="ArticlesPaneV3" onSubmit={handleSubmit} value={query} onChange={(event) => setQuery(event.target.value)}>\n      {isLoading && (<progress className="progress is-small is-primary" max="100" />)}\n      {!isLoading && isError && <div className="notification is-danger">Something got wrong, please try again after some seconds</div>}\n      {!isError && !isLoading && (\n      <>\n        {isEmpty && (<div className="notification is-warning">Results not found, try another search term</div>)}\n        {!isEmpty && (\n          data.hits.map((item) => (\n            <a key={item.objectID} href={item.url} target="_blank" className="panel-block" rel="noreferrer">\n              {item.title}\n            </a>\n          ))\n        )}\n      </>\n      )}\n    </SearchPanelTemplate>\n  );\n};\n\nconst ArticlesPaneV3 = withDataFetching(ArticlesV3, {\n  url: \'http://hn.algolia.com/api/v1/search?query=react\',\n  data: { hits: [] },\n});\n      '}),Object(f.jsx)(Bt,{}),Object(f.jsx)("p",{children:"O quarto experimento \xe9 implementar um componente para deixar de forma declarativa no JSX a l\xf3gica de fetch, essa abordagem se mostrou bem interessante por\xe9m funciona melhor para o GET de dados, n\xe3o parece muito interessante para os outros metodos (POST, PU, DELETE)"}),Object(f.jsx)(N,{children:'const ArticlesPanel = () => {\n  const [query, setQuery] = useState(\'react\');\n  const [queryParams, setQueryParams] = useState({ query });\n\n  const handleSubmit = (e) => {\n    setQueryParams({ ...queryParams, query });\n    e.preventDefault();\n  };\n\n  return (\n    <SearchPanelTemplate title="ArticlesPaneV4" onSubmit={handleSubmit} value={query} onChange={(event) => setQuery(event.target.value)}>\n      <FetchBox\n        baseUrl="http://hn.algolia.com/api/v1/search"\n        queryParams={queryParams}\n        Placeholder={() => <progress className="progress is-small is-primary" max="100" />}\n        Empty={() => <div className="notification is-warning">Results not found, try another search term</div>}\n        Error={() => <div className="notification is-danger">Something got wrong, please try again after some seconds</div>}\n      >\n        {({ data = {} }) => (\n          data.hits.map((item) => (item.title\n            && (\n            <a key={item.objectID} href={item.url} target="_blank" className="panel-block" rel="noreferrer">\n              {item.title}\n            </a>\n            )\n          ))\n        )}\n      </FetchBox>\n    </SearchPanelTemplate>\n  );\n};\n      '}),Object(f.jsx)(Ft,{}),Object(f.jsx)("p",{children:"O quinto e ultimo experimento s\xf3 esta disponivel na recem lan\xe7ada vers\xe3o 18 do React usando o Suspense para o fetch de dados."})]})}),It=n(11),Tt=(n(236),["input"]),Rt=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"title",children:"Step 1"}),Object(f.jsx)("h2",{className:"subtitle",children:"step description"})]})},At=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{children:"Step 2"}),Object(f.jsx)("p",{children:"step description"})]})},Lt=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{children:"Step 3"}),Object(f.jsx)("a",{href:"#link",children:"link"})]})},zt=function(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([Rt,At,Lt]),s=Object(i.a)(c,2),o=s[0],l=s[1],d=n>0,u=n<o.length-1,m=o[n];return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-content",children:Object(f.jsx)(m,{})}),Object(f.jsxs)("div",{className:"card-footer",children:[Object(f.jsx)("button",{disabled:!d,onClick:function(){r((function(e){return e-1}))},className:"card-footer-item",children:"Prev"}),Object(f.jsx)("button",{disabled:!u,onClick:function(){r((function(e){return e+1}))},className:"card-footer-item",children:"Next"}),Object(f.jsx)("button",{onClick:function(){var e=Date.now(),t=Math.floor(16777215*Math.random()).toString(16),n=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"title",children:"Generated"}),Object(f.jsx)("h2",{style:{color:"#".concat(t)},className:"subtitle",children:e})]})};l((function(e){return[].concat(Object(It.a)(e),[n])}))},className:"card-footer-item",children:"Gerar Novo"})]})]})},Mt={notification:function(e){var t=e.text;return Object(f.jsx)("div",{className:"notification",children:t})},quote:function(e){var t=e.text,n=e.author;return Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"card-content",children:[Object(f.jsxs)("p",{className:"title is-5",children:["\u201c",t,"\u201d"]}),Object(f.jsx)("p",{className:"subtitle is-6",children:n})]})})},post:function(e){var t=e.content,n=e.name,a=e.socialname,r=e.datetime,c=e.tags;return Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("div",{className:"card-image",children:Object(f.jsx)("div",{className:"card-content",children:Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:n})," (",Object(f.jsxs)("small",{children:["@",a]}),")"]}),Object(f.jsxs)("p",{children:[t,c.map((function(e){return Object(f.jsxs)("a",{href:"#",children:["#",e]})})),Object(f.jsx)("br",{}),Object(f.jsx)("time",{dateTime:r,children:new Date(r).toLocaleDateString()})]})]})})})})}},Vt=[{type:"quote",text:"There are two hard things in computer science: cache invalidation, naming things, and off-by-one errors.",author:"Antony Atwood"},{type:"post",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris.",name:"John Smith",socialname:"johnsmith",datetime:"2022-01-02",tags:["css","html"]},{type:"notification",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris."},{type:"quote",text:"There are two hard things in computer science: cache invalidation, naming things, and off-by-one errors.",author:"Jeff Atwood"},{type:"post",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris.",name:"Mike Jordan",socialname:"mikejord",datetime:"2022-01-03",tags:["ts","responsive"]},{type:"notification",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris."}],Ut=function(e){var t=e.item;return"undefined"!==typeof Mt[t.type]?Object(a.createElement)(Mt[t.type],Object(u.a)({},t)):null},Jt=function(){return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:"Lista de posts din\xe2micos"}),Object(f.jsx)("hr",{}),Vt.map((function(e,t){return Object(f.jsx)("div",{className:"mb-4",children:Object(f.jsx)(Ut,{item:e},t)})}))]})},Ht={text:function(e){var t=e.name,n=e.value,a=e.onChange,r=e.label,c=e.placeholder;return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{htmlFor:t,className:"label",children:r}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("input",{id:t,name:t,value:n||"",onChange:a,className:"input",type:"text",placeholder:c})})]})},textarea:function(e){var t=e.name,n=e.value,a=e.onChange,r=e.label,c=e.placeholder;return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{htmlFor:t,className:"label",children:r}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("textarea",{id:t,name:t,value:n||"",onChange:a,className:"textarea",placeholder:c})})]})},select:function(e){var t=e.name,n=e.value,a=e.onChange,r=e.label,c=e.options;return Object(f.jsxs)("div",{className:"field",children:[Object(f.jsx)("label",{htmlFor:t,className:"label",children:r}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("div",{className:"select",children:Object(f.jsx)("select",{id:t,name:t,value:n||"",onChange:a,children:c.map((function(e){return Object(f.jsx)("option",{children:e})}))})})})]})}},Gt=[{type:"text",name:"name",label:"Nome",placeholder:"Nome Completo"},{type:"text",name:"nick",label:"Apelido",placeholder:""},{type:"select",name:"state",label:"Estado Civil",options:["Casado","Solteiro"]},{type:"textarea",name:"message",label:"Mensagem",placeholder:"Mensagem at\xe9 250 caracteres"}],Wt=function(e){var t=e.input,n=Object(Ve.a)(e,Tt);return"undefined"!==typeof Ht[t.type]?Object(a.createElement)(Ht[t.type],Object(u.a)(Object(u.a)({},t),n)):null},_t=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:"Formul\xe1rio din\xe2mico"}),Object(f.jsx)("hr",{}),Gt.map((function(e){return Object(f.jsx)(Wt,{input:e,value:n[e.name],onChange:function(t){return console.log(t.target.value)||r(Object(u.a)(Object(u.a)({},n),{},Object(Se.a)({},e.name,t.target.value)))}},e.name)})),Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{className:"button is-link",onClick:function(){alert(JSON.stringify(n))},children:"Submit"})}),Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{className:"button is-link is-light",children:"Cancel"})})]})]})},Qt=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"Dynamic Component"}),Object(f.jsx)("hr",{}),Object(f.jsx)("p",{children:"Apesar de n\xe3o recomendado \xe9 possivel criar componentes em tempo de execu\xe7\xe3o, dentro do click de um bot\xe3o por exemplo:"}),Object(f.jsx)(zt,{}),Object(f.jsx)(N,{children:'const DynamicComponentGeneration = () => {\n  const [index, setIndex] = useState(0);\n  const [components, setComponents] = useState([]);\n  const canPrev = index > 0;\n  const canNext = index < components.length - 1;\n\n  const handleNext = () => {\n    setIndex((i) => i + 1);\n  };\n  const handlePrev = () => {\n    setIndex((i) => i - 1);\n  };\n  const handleGenerateButtonClick = () => {\n    const id = Date.now();\n    const randomColor = Math.floor(Math.random() * 16777215).toString(16);\n    const Generated = () => <><h1 className="title">Generated</h1><h2 style={{ color: randomColor }} className="subtitle">{id}</h2></>;\n    setComponents((comps) => [...comps, Generated]);\n  };\n\n  const CurrentStep = components[index];\n  return (\n    <div className="card">\n      <div className="card-content">\n        <CurrentStep />\n      </div>\n      <div className="card-footer">\n        <button disabled={!canPrev} onClick={handlePrev} className="card-footer-item">Prev</button>\n        <button disabled={!canNext} onClick={handleNext} className="card-footer-item">Next</button>\n        <button onClick={handleGenerateButtonClick} className="card-footer-item">Gerar Novo</button>\n      </div>\n    </div>\n  );\n};\n'}),Object(f.jsx)("p",{children:"Esta aplica\xe7\xe3o por\xe9m parece n\xe3o ter aplica\xe7\xe3o real em nenhum cen\xe1rio pr\xe1tico, j\xe1 que o recomendado em uma situa\xe7\xe3o similar a este exemplo seria salvar apenas os dados das props no estado e passar esses dados para o componente de forma din\xe2mica, conforme o exemplo abaixo:"}),Object(f.jsx)(N,{children:'const GeneratedComponent = ({ id, randomColor }) => <><h1 className="title">Generated</h1><h2 style={{ color: randomColor }} className="subtitle">{id}</h2></>;\nconst DynamicComponentGeneration = () => {\n  const [index, setIndex] = useState(0);\n  const [items, setItems] = useState([]);\n  const canPrev = index > 0;\n  const canNext = index < items.length - 1;\n\n  const handleNext = () => {\n    setIndex((i) => i + 1);\n  };\n  const handlePrev = () => {\n    setIndex((i) => i - 1);\n  };\n  const handleGenerateButtonClick = () => {\n    const id = Date.now();\n    const randomColor = Math.floor(Math.random() * 16777215).toString(16);\n    setItems((items) => [...items, { id, randomColor }]);\n  };\n\n  return (\n    <div className="card">\n      <div className="card-content">\n        <GeneratedComponent {...items[index]} />\n      </div>\n      <div className="card-footer">\n        <button disabled={!canPrev} onClick={handlePrev} className="card-footer-item">Prev</button>\n        <button disabled={!canNext} onClick={handleNext} className="card-footer-item">Next</button>\n        <button onClick={handleGenerateButtonClick} className="card-footer-item">Gerar Novo</button>\n      </div>\n    </div>\n  );\n};'}),Object(f.jsx)("p",{children:"Outro exemplo muito mais favoravel e at\xe9 recomendado para o uso de componentes din\xe2micos seriam a renderiza\xe7\xe3o de componentes atrav\xe9s de metadados, como por exemplo um formul\xe1rio din\xe2mico, uma tabela gen\xe9rica de dados ou uma lista de posts de uma p\xe1gina que podem ter diferentes formatos, conforme os exemplos abaixo:"}),Object(f.jsx)(_t,{}),Object(f.jsx)("br",{}),Object(f.jsx)(Jt,{})]})};Qt.defaultProps={};var $t=Qt,Xt=(n(237),Object(a.forwardRef)((function(e,t){var n=e.children,r=e.width,c=e.height,o=e.onClose,i=e.cssFiles,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=document.createElement("div"),n=window.open("","","width=".concat(r,",height=").concat(c));return i.forEach((function(e){var t=n.document.createElement("link");t.rel="stylesheet",t.href=e,n.document.head.appendChild(t)})),n.document.body.appendChild(e),n.onbeforeunload=o,l.current=e,t.current=n,function(){return n.close()}}),[]),!!l.current&&s.a.createPortal(n,l.current)}))),Kt=[{subject:"Security email",from:"security@email.com",content:"Automatic security email"},{subject:"Alert email",from:"alert@email.com",content:"Automatic alert email"},{subject:"Test email",from:"test@email.com",content:"Automatic test email"},{subject:"Offer email",from:"offer@email.com",content:"Automatic offer email"},{subject:"Email",from:"random@email.com",content:"Random email"}],Yt=["https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css","https://cdn.jsdelivr.net/npm/@mdi/font@6.6.96/css/materialdesignicons.min.css"],Zt=function(){var e=Object(a.useRef)(),t=Object(a.useState)(Kt),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(-1),o=Object(i.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(Date.now()),m=Object(i.a)(u,2),j=m[0],b=m[1],h=new Date(j),p=r[l];Object(a.useEffect)((function(){window.setInterval((function(){b(Date.now())}),1e3)}),[]);var O=function(){return d(-1)};return Object(f.jsxs)("nav",{className:"panel",children:[Object(f.jsx)("p",{className:"panel-heading",children:"Emails"}),Object(f.jsxs)("div",{className:"panel-block",children:[h.toLocaleDateString()," - ",h.toLocaleTimeString()]}),Object(f.jsx)("div",{className:"panel-block",children:Object(f.jsxs)("p",{className:"control has-icons-left",children:[Object(f.jsx)("input",{className:"input",type:"text",placeholder:"Search"}),Object(f.jsx)("span",{className:"icon is-left",children:Object(f.jsx)("i",{className:"mdi mdi-search","aria-hidden":"true"})})]})}),r.map((function(t,n){return Object(f.jsxs)("a",{href:"#",className:"panel-block",onClick:function(t){t.preventDefault(),function(t){e.current&&p&&e.current.focus(),d(t),r[t].isRead||(r[t].isRead=!0,c(r))}(n)},children:[Object(f.jsx)("span",{className:"panel-icon",children:Object(f.jsx)("i",{className:t.isRead?"mdi mdi-email-open":"mdi mdi-email","aria-hidden":"true"})}),Object(f.jsx)("strong",{children:t.subject}),"\xa0 (",Object(f.jsx)("small",{children:t.from}),")"]})})),Object(f.jsx)("div",{className:"panel-block",children:Object(f.jsx)("button",{className:"button is-link is-outlined is-fullwidth",children:"Reset all filters"})}),p&&Object(f.jsx)(Xt,{width:600,height:400,ref:e,onClose:O,cssFiles:Yt,children:Object(f.jsx)("div",{className:"box",children:Object(f.jsxs)("article",{className:"media",children:[Object(f.jsxs)("div",{className:"media-content",children:[Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("p",{className:"title is-5",children:p.subject}),Object(f.jsx)("p",{className:"subtitle is-6",children:p.from})]}),Object(f.jsx)("div",{className:"content",children:p.content}),Object(f.jsx)("nav",{className:"level is-mobile",children:Object(f.jsxs)("div",{className:"level-left",children:[Object(f.jsx)("a",{className:"level-item",children:Object(f.jsx)("span",{className:"icon is-small",children:Object(f.jsx)("i",{className:"mdi mdi-reply"})})}),Object(f.jsx)("a",{className:"level-item",children:Object(f.jsx)("span",{className:"icon is-small",children:Object(f.jsx)("i",{className:"mdi mdi-tweet"})})}),Object(f.jsx)("a",{className:"level-item",children:Object(f.jsx)("span",{className:"icon is-small",children:Object(f.jsx)("i",{className:"mdi mdi-heart"})})}),Object(f.jsxs)("span",{className:"level-item",children:[h.toLocaleDateString()," - ",h.toLocaleTimeString()]})]})})]}),Object(f.jsx)("div",{className:"media-right",children:Object(f.jsx)("button",{className:"delete",onClick:O})})]})})})]})},en=function(e){var t=e.children,n=e.container;return n?s.a.createPortal(t,n):null},tn=function(e){var t=e.open,n=e.onClose,a=e.children,r=e.hiddenBackground;return Object(f.jsx)(en,{container:document.body,children:Object(f.jsxs)("div",{className:"modal ".concat(t?"is-active":""),children:[!r&&Object(f.jsx)("div",{"aria-hidden":"true",className:"modal-background",onClick:n}),Object(f.jsx)("div",{className:"modal-content",children:a}),Object(f.jsx)("button",{className:"modal-close is-large","aria-label":"close",onClick:n})]})})},nn=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsxs)("div",{className:"block",children:[Object(f.jsx)("button",{className:"button is-primary",onClick:function(){return r(!0)},children:"Abrir Modal"}),Object(f.jsx)(tn,{open:n,onClose:function(){return r(!1)},children:Object(f.jsx)("div",{className:"box mx-4",children:Object(f.jsx)("article",{className:"media",children:Object(f.jsx)("div",{className:"media-content",children:Object(f.jsx)("div",{className:"content",children:Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"John Smith"})," ",Object(f.jsx)("small",{children:"@johnsmith"})," ",Object(f.jsx)("small",{children:"31m"}),Object(f.jsx)("br",{}),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis."]})})})})})})]})},an=function(e){var t=e.open,n=e.onClose,r=e.children,c=e.className,s=e.position,o=e.duration,i=void 0===o?3e3:o,l="top"===s?{top:"10%"}:{bottom:"10%"};return Object(a.useEffect)((function(){if(t){var e=setTimeout(n,i);return function(){return clearTimeout(e)}}}),[t]),t&&Object(f.jsx)(en,{container:document.body,children:Object(f.jsxs)("div",{style:l,className:"notification-custom notification ".concat(c),children:[Object(f.jsx)("button",{className:"delete",onClick:n,"aria-label":"Close notification"}),r]})})},rn=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return{show:function(){return r(!0)},hide:function(){return r(!1)},isOpen:n}}(),t=e.show,n=e.hide,r=e.isOpen;return Object(f.jsxs)("div",{className:"block",children:[Object(f.jsx)("button",{className:"button is-primary",onClick:t,children:"Abrir Notifica\xe7\xe3o"}),Object(f.jsxs)(an,{className:"is-light is-info",position:"top",open:r,onClose:n,children:["Primar lorem ipsum dolor sit amet, consectetur adipiscing elit lorem ipsum dolor. ",Object(f.jsx)("strong",{children:"Pellentesque risus mi"})]})]})},cn=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(f.jsx)(en,{container:document.body,children:Object(f.jsx)("nav",{className:"navbar actionbar ".concat(n?"is-active":""),role:"navigation","aria-label":"main navigation",children:Object(f.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu is-active",children:[Object(f.jsx)("div",{className:"navbar-start",children:Object(f.jsxs)("a",{href:"#",className:"navbar-item",onClick:function(e){e&&e.preventDefault(),r((function(e){return!e}))},children:[Object(f.jsx)("strong",{children:"Barra de a\xe7\xf5es"})," ",Object(f.jsx)("small",{children:"criada atrav\xe9s de um Portal"}),Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)("i",{className:n?"mdi mdi-arrow-down-drop-circle-outline":"mdi mdi-arrow-up-drop-circle-outline","aria-hidden":"true"})})]})}),Object(f.jsx)("div",{className:"navbar-end",children:Object(f.jsx)("div",{className:"navbar-item",children:Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("button",{className:"button is-primary",children:Object(f.jsx)("strong",{children:"Close"})}),Object(f.jsx)("button",{className:"button is-light",children:"Confirm"})]})})})]})})})},sn=function(){return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"subtitle is-1",children:"Portal"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("p",{children:["Implementa\xe7\xf5es usando ",Object(f.jsx)("strong",{children:"React Portals"})," , para mais detalhes pode conferir a ",Object(f.jsx)("a",{href:"https://pt-br.reactjs.org/docs/portals.html",targe:"blank",children:"documenta\xe7\xe3o oficial."})]}),Object(f.jsx)("p",{children:"Uma abordagem bem interessante \xe9 a cria\xe7\xe3o de um componente Portal para usar portais de forma mais declarativa dentro do JSX. Segue um exemplo:"}),Object(f.jsx)(N,{children:"const Portal = ({ children, container }) => {\n  return (container ? ReactDOM.createPortal(children, container) : null);\n};\n// Exemplo de uso\n<Portal container={document.body}>\n  Conteudo carregado no fim da p\xe1gina\n</Portal>"}),Object(f.jsx)("p",{children:"Os casos mais comuns s\xe3o modais, tooltips, popovers e outros componentes que precisam ser renderizados acima dos elementos atuais da p\xe1gina para serem posicionados de forma absoluta ou relativa a outro elemento fora do contexto atual. Seguem alguns exemplos:"}),Object(f.jsx)(N,{children:'//Implementa\xe7\xe3o de modal usando Portal\nconst Modal = ({ open, onClose, children, hiddenBackground }) => (\n  <Portal container={document.body}>\n    <div className={open ? \'modal is-active\' : \'modal\'}>\n      {!hiddenBackground && <div aria-hidden="true" className="modal-background" onClick={onClose} />}\n      <div className="modal-content">{children}</div>\n      <button className="modal-close is-large" aria-label="close" onClick={onClose} />\n    </div>\n  </Portal>\n);\n// Exemplo de uso\n<Modal open>\n  Conteudo da modal\n</Modal>\n'}),Object(f.jsx)(nn,{}),Object(f.jsx)(N,{children:"//Implementa\xe7\xe3o de notifica\xe7\xf5es usando Portal\nconst Notification = ({ open, onClose, children, position }) => {\n  const style = position === 'top' ? { top: '10%' } : { bottom: '10%' };\n  return (\n    open && (\n    <Portal container={document.body}>\n      <div style={style} className='notification-custom notification'>\n        <button className=\"delete\" onClick={onClose} aria-label=\"Close notification\" />\n        {children}\n      </div>\n    </Portal>\n    )\n  );\n};\n// Exemplo de uso\n<Notification position=\"top\" open>\n  Conteudo da notifica\xe7\xe3o\n</Notification>\n"}),Object(f.jsx)(rn,{}),Object(f.jsx)("p",{children:"Apesar de interessante estes exemplos, dificilmente eles ser\xe3o implementados manualmente em um projeto real, nem recomendo isso, pois para todos estes cen\xe1rios existem libs excelentes."}),Object(f.jsxs)("p",{children:["Os casos mais comuns que ja encontrei para o uso de ",Object(f.jsx)("strong",{children:"Portals"}),"s\xe3o barras de a\xe7\xe3o fixa no fim da p\xe1gina, como a implementada nesta p\xe1gina, bot\xf5es de voltar ao topo em p\xe1ginas longas, janelas de chat que abrem por cima do conte\xfado da p\xe1gina, entre outros outros usos bem parecidos."]}),Object(f.jsx)(cn,{}),Object(f.jsxs)("p",{children:["Navegando na internet encontrei um exemplo bem diferente do convencional que \xe9 o uso de Portals para manipula\xe7\xe3o de janelas de popup, conforme este",Object(f.jsx)("a",{href:"https://medium.com/hackernoon/using-a-react-16-portal-to-do-something-cool-2a2d627b0202",target:"blank",children:" tutorial"}),". ",Object(f.jsx)("br",{}),"E com base nele implementei o exemplo da caixa de email abaixo."]}),Object(f.jsx)(Zt,{})]})};sn.defaultProps={};var on=sn,ln=[{name:"Error Boundary",path:"/error-boundary",iconClass:"mdi-bug",description:"Entendendo a aplica\xe7\xe3o pratica de error boundaries"},{name:"Pooling",path:"/pooling",iconClass:"mdi-clipboard-flow-outline",description:"Testando a eficiencia de implementa\xe7\xf5es diferentes de pooling"},{name:"Web Worker",path:"/workers",iconClass:"mdi-account-hard-hat",description:"Aplicando web workers para mehoria de performance em p\xe1ginas web"},{name:"Lifecycle",path:"/lifecycle",iconClass:"mdi-repeat-variant",description:"Exemplificando o ciclo de vida do react"},{name:"Forms",path:"/forms",iconClass:"mdi-form-textbox",description:"Validando formas eficientes para tratamento de formul\xe1rios"},{name:"Fetch",path:"/fetch",iconClass:"mdi-post",description:"Executando o fetch de diferentes formas"},{name:"Portal",path:"/portal",iconClass:"mdi-dock-window",description:"Aplica\xe7\xe3o pr\xe1tica e exemplos criativos do uso de portais"},{name:"Dynamic Component",path:"/dynamic",iconClass:"mdi-puzzle",description:"Cria\xe7\xe3o de componentes dinamicos e suas aplica\xe7\xf5es pr\xe1ticas"},{name:"Random",path:"/random",iconClass:"mdi-dots-grid",description:"Colet\xe2nea de experiencias gen\xe9ricas e ainda sem t\xf3pico pr\xf3prio"}].sort((function(e,t){return e.name<t.name?-1:1})),dn=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=function(){return r((function(e){return!e}))};return Object(f.jsxs)("nav",{className:"navbar is-white",children:[Object(f.jsxs)("div",{className:"navbar-brand",children:[Object(f.jsx)(l.b,{className:"navbar-item",to:"/",children:Object(f.jsx)("img",{src:Nt,alt:"React logo",height:"44",width:"44"})}),Object(f.jsxs)("div",{tabIndex:"0",role:"button",className:"navbar-burger",onClick:c,onKeyPress:c,children:[Object(f.jsx)("span",{}),Object(f.jsx)("span",{}),Object(f.jsx)("span",{})]})]}),Object(f.jsxs)("div",{className:"navbar-menu ".concat(n?"is-active":""),children:[Object(f.jsxs)("div",{className:"navbar-start",children:[Object(f.jsx)(l.b,{className:"navbar-item",to:"/",children:"React LAB"}),n&&Object(f.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(f.jsx)("p",{className:"navbar-link",children:"Experiments"}),Object(f.jsx)("div",{className:"navbar-dropdown is-boxed",children:ln.map((function(e){return Object(f.jsxs)(l.c,{to:e.path,className:function(e){return e.isActive?"navbar-item is-active":"navbar-item"},children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)("i",{className:"mdi ".concat(e.iconClass)})})," ",e.name]},e.path)}))})]})]}),Object(f.jsx)("div",{className:"navbar-end",children:Object(f.jsx)("div",{className:"navbar-item",children:Object(f.jsxs)("div",{className:"field is-grouped",children:[Object(f.jsx)("p",{className:"control",children:Object(f.jsxs)("a",{className:"bd-tw-button button","data-social-network":"Twitter","data-social-action":"tweet","data-social-target":"https://bulma.io",target:"_blank",href:"https://twitter.com/intent/tweet?text=Bulma: a modern CSS framework based on Flexbox&hashtags=bulmaio&url=https://bulma.io&via=jgthms",rel:"noreferrer",children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)("i",{className:"mdi mdi-twitter"})}),Object(f.jsx)("span",{children:"Tweet"})]})}),Object(f.jsx)("p",{className:"control",children:Object(f.jsxs)("a",{className:"button is-primary",href:"https://github.com/michael-silva/react-lab",children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)("i",{className:"mdi mdi-github"})}),Object(f.jsx)("span",{children:"Github"})]})})]})})})]})]})},un=function(e){var t=e.path,n=e.iconClass,a=e.title,r=e.subtitle,c=e.children;return Object(f.jsx)(l.b,{to:t,children:Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"card-content",children:[Object(f.jsxs)("div",{className:"media",children:[Object(f.jsx)("div",{className:"media-left",children:Object(f.jsx)("span",{className:"icon is-large",children:Object(f.jsx)("i",{className:"mdi mdi-48px ".concat(n)})})}),Object(f.jsxs)("div",{className:"media-content",children:[Object(f.jsx)("p",{className:"title is-4",children:a}),r&&Object(f.jsx)("p",{className:"subtitle is-6",children:r})]})]}),Object(f.jsx)("div",{className:"content",children:c})]})})})},mn=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"hero is-medium",children:Object(f.jsx)("div",{className:"hero-body",children:Object(f.jsxs)("div",{className:"container has-text-centered",children:[Object(f.jsx)("p",{className:"title",children:"React LAB"}),Object(f.jsx)("p",{className:"subtitle",children:"Um reposit\xf3rio de experi\xeancias pr\xe1ticas com reactjs"})]})})}),Object(f.jsx)("div",{className:"columns is-multiline",children:ln.map((function(e){return Object(f.jsx)("div",{className:"column is-one-quarter",children:Object(f.jsx)(un,{title:e.name,path:e.path,iconClass:e.iconClass,children:e.description})},e.path)}))})]})},jn=function(e){Object(o.a)(e);var t="/"===Object(d.f)().pathname;return Object(f.jsxs)("aside",{className:"menu main-menu ".concat(t?"menu-hidden":""),children:[Object(f.jsx)("p",{className:"menu-label",children:"Experiments"}),Object(f.jsx)("ul",{className:"menu-list",children:ln.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsxs)(l.c,{to:e.path,className:function(e){return e.isActive?"is-active":void 0},children:[Object(f.jsx)("span",{className:"icon",children:Object(f.jsx)("i",{className:"mdi ".concat(e.iconClass)})})," ",e.name]})},e.path)}))})]})},bn=function(){var e=Object(d.f)(),t=Object(a.useState)(e),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)("fadeIn"),o=Object(i.a)(s,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){e!==r&&u("fadeOut")}),[e,r]),Object(f.jsxs)("div",{className:"columns mt-4",children:[Object(f.jsx)("div",{className:"column is-3 is-hidden-mobile",children:Object(f.jsx)(jn,{})}),Object(f.jsx)("div",{className:"column is-9",children:Object(f.jsx)("div",{className:"box ".concat(l),onAnimationEnd:function(){"fadeOut"===l&&(u("fadeIn"),c(e))},children:Object(f.jsx)(d.a,{})})})]})},hn=function(){return Object(f.jsxs)(l.a,{children:[Object(f.jsx)(dn,{}),Object(f.jsx)("div",{className:"container is-fluid",children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{path:"/",element:Object(f.jsx)(mn,{})}),Object(f.jsxs)(d.b,{element:Object(f.jsx)(bn,{}),children:[Object(f.jsx)(d.b,{path:"/error-boundary",element:Object(f.jsx)(T,{})}),Object(f.jsx)(d.b,{path:"/pooling",element:Object(f.jsx)(_,{})}),Object(f.jsx)(d.b,{path:"/workers",element:Object(f.jsx)(Z,{})}),Object(f.jsx)(d.b,{path:"/lifecycle",element:Object(f.jsx)(Me,{})}),Object(f.jsx)(d.b,{path:"/forms",element:Object(f.jsx)(vt,{})}),Object(f.jsx)(d.b,{path:"/portal",element:Object(f.jsx)(on,{})}),Object(f.jsx)(d.b,{path:"/dynamic",element:Object(f.jsx)($t,{})}),Object(f.jsx)(d.b,{path:"/fetch",element:Object(f.jsx)(Dt,{})}),Object(f.jsx)(d.b,{path:"/random",element:Object(f.jsx)(ke,{})})]})]})})]})},pn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n,a=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a((n=e,function(e){var t="POOR";return e.value<=.25&&(t="NEEDS IMPROVEMENT"),e.value<=.1&&(t="GOOD!!"),n(Object(u.a)(Object(u.a)({},e),{},{status:t}))})),r(function(e){return function(t){var n="POOR";return t.value<=300&&(n="NEEDS IMPROVEMENT"),t.value<=100&&(n="GOOD!!"),e(Object(u.a)(Object(u.a)({},t),{},{status:n}))}}(e)),c(e),s(function(e){return function(t){var n="POOR";return t.value<=4e3&&(n="NEEDS IMPROVEMENT"),t.value<=2500&&(n="GOOD!!"),e(Object(u.a)(Object(u.a)({},t),{},{status:n}))}}(e)),o(e)}))};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(hn,{})}),document.getElementById("root")),pn(console.log)}},[[238,1,2]]]);
//# sourceMappingURL=main.6a1de335.chunk.js.map